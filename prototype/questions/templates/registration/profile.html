{% extends 'questions/base.html' %}

{% block content %}
<div id="profile-info">
    <b>Username</b>: {{user.username}}
    <br>
    <b>Name</b>: {{user.first_name}} {{user.last_name}}
    <br>
    <b>Email</b>: {{user.email}}
    <br>
    <b>Last login</b>: {{user.last_login}}
    <br>
    <b>Date joined</b>: {{user.date_joined}}
    <br>
    <b>Points</b>: {{user.profile.points}}
    <br>
    <b>Achievements</b>:
    <br>
    {% for badge in all_badges %}
        {% if badge in user.profile.earned_badges.all %}
        <u>{{badge.name}} - {{badge.description}}</u>
        {% else %}
        <i>{{badge.name}} - {{badge.description}}</i>
        {% endif %}
        <br>
    {% endfor %}
    <b>History</b>:
    <br>
    {% for question in history %}
    <a href="/questions/{{question.id}}">
        <div style="color:{% if question.completed %}#008b00{% else %}#9b9b00{% endif %}">
            {{question.latest_attempt}} {{question.title}}. Attempts: {{question.n_attempts}}
        </div>
    </a>
    {% endfor %}
</div>
<a href="/change_password">Change password</a>

{% endblock %}